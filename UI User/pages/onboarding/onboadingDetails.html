<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Onboarding details</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../vendors/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="../../vendors/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="../../vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End Plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <!--End layout styles-->

    <link rel="stylesheet" href="../../css/style.css" />
    <link rel="shortcut icon" href="../../images/tshimologong_logo_white.gif" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
<!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous" />

</head>

<body>
    <div class="container-scroller">
        <!-- partial:../../partials/_navbar.html -->
        <nav class="navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="navbar-brand-wrapper d-flex align-items-center">
                <a class="navbar-brand brand-logo" href="../../index.html">
                    <img src="../../images/home_images/tshimologong_logo_white (1).gif" alt="logo" class="logo-dark" />

                </a>
                <a class="navbar-brand brand-logo-mini" href="../../index.html"><img src="../../images/tshimologong_logo_white.gif" alt="logo" /></a>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center flex-grow-1">
                <h5 class="mb-0 font-weight-medium d-none d-lg-flex">Welcome to tshimologong on boarding!</h5>
                <ul class="navbar-nav navbar-nav-right ml-auto">
                    <li class="nav-item dropdown d-none d-xl-inline-flex user-dropdown">
                        <a class="nav-link dropdown-toggle" id="UserDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                            <img class="img-xs rounded-circle ml-2 recruitImg" src="images/faces/face8.jpg" alt="Profile image">
                            <span class="font-weight-normal recruitFullname text-white"> ofentse khampe </span></a>
                        <div style="background-color: #f2f6f6; " class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
                            <div class="dropdown-header text-center">
                                <img class="img-md rounded-circle recruitImg" style="width: 30%;" src="images/faces/face8.jpg" alt="Profile image">
                                <p style="color:black;" class="mb-1 mt-3 recruitFullname">Fentse</p>
                                <p style="color:black;" class=" font-weight-light text-muted mb-0 recruitEmail">
                                    ofentseKhampe@gmail.com</p>
                            </div>
                            <a style="color:black;" class="dropdown-item " href="../../pages/profile/Profile.html"><i
														class="dropdown-item-icon icon-user text-primary "></i> My Profile <span
														class="badge badge-pill badge-danger "></span></a>
                        
                            <a class="dropdown-item " id="signOut" style="color:black;"> <i class="dropdown-item-icon icon-power text-primary "></i>Sign Out
                            </a>
                        </div>
                    </li>
                </ul>
                <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
					<span class="icon-menu"></span>
				</button>
            </div>
        </nav>
        <!-- partial -->
        <div class="container-fluid page-body-wrapper">
            <!-- partial:../../partials/_sidebar.html -->
            <nav class="sidebar sidebar-offcanvas " id="sidebar ">
                <ul class="nav ">
                    <li class="nav-item nav-profile ">
                        <a href="# " class="nav-link ">
                            <div class="profile-image ">
                                <img class="img-xs rounded-circle recruitImg" src="images/faces/face8.jpg " alt="profile image ">
                                <div class="dot-indicator bg-success "></div>
                            </div>
                            <div class="text-wrapper ">
                                <p class="profile-name recruitFullname">Ofentse Khampe</p>
                                <p class="designation ">Intern</p>
                            </div>

                        </a>
                    </li>
                    <li class="nav-item nav-category ">
                        <span class="nav-link ">Dashboard</span>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link " href="../../index.html ">
                            <span class="menu-title ">HOME</span>
                            <i class="icon-home menu-icon "></i>
                        </a>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link " href="../profile/Profile.html ">
                            <span class="menu-title ">PROFILE</span>
                            <i class="icon-user menu-icon "></i>
                        </a>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link " href="../../pages/onboarding/onboarding.html ">
                            <span class="menu-title ">ONBOARDING</span>
                            <i class="icon-note menu-icon "></i>
                        </a>
                    </li>
                    <li class="nav-item ">
                        <a class="nav-link " href="../../pages/Departments/Department.html">
                            <span class="menu-title ">DEPARTMENTS</span>
                            <i class="icon-people menu-icon "></i>
                        </a>
                    </li>

                </ul>
            </nav>
            <!-- partial -->
            <div class="main-panel">
                <div class="content-wrapper">
                    <div class="page-header">

                        <h3 class="page-title"> <a href="./onboarding.html">Back</a></h3>

                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#">Onboarding Details </a></li>
                                <li class="breadcrumb-item active" aria-current="page">Department</li>
                            </ol>
                        </nav>
                    </div>
                    <div class="row">
                        <div class="col-lg-10 grid-margin stretch-card">
                            <div class="card ">
                                <div class=" card-bod  ">
                                    <h3 id="title" style="display: none;">Details</h3>


                                    <div class="width100 container_spacing pb-0">
                                        <div class="row m-0 ">
                                            <div class="containerr">
                                                <div class="col-12 p-0 ">
                                                    <!--COLLABORATION-->
                                                    <div class="row m-0 mb-5">
                                                        <div class="col-12 border_bottom_thick pl-0 pr-0 pt-3 pb-4">
                                                            <div class="row m-0 ">
                                                                <div class="col-sm-5 pl-sm-0 mb-sm-0 mb-3">
                                                                    <img src="../../images/onboardingPcture/IMG_2179.JPG" class="img-fluid border_top_img green_text img300">
                                                                </div>
                                                                <div class="col-sm-6 pr-sm-0 offset-sm-1">
                                                                    <h2 class="mb-3">What it entails?</h2>
                                                                    <div class="underline_h2 green_text mb-3">
                                                                    </div>
                                                                    <p><span style="font-weight: 400;">Introduction to the company and the department
																			heads.
																			They need to know who they report to (mentors/ leaders).
																			Know their work title and work description.
																			Introduction to the technologies and tools that the company uses.
																			Tasks to complete
																			o Recruit employee information (personal, contact, tax number etc.)
																			.</span></p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--COLLABORATION-->
                                                    <!--MENTORSHIP-->
                                                    <div class="row m-0 mb-5">
                                                        <div class="col-12 border_bottom_thick pl-0 pr-0 pt-3 pb-4">
                                                            <div class="row m-0 ">
                                                                <div class="col-sm-6 pl-sm-0 text-right">
                                                                    <h2 class="mb-3">What is it for?</h2>
                                                                    <div class="row m-0 justify-content-end">
                                                                        <div class="float-right underline_h2 orange_text mb-3">
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-weight: 400;">This onboarding program is a piece of technology
																			that will assist employers in ensuring that new employees have a smooth
																			transition. The onboarding software includes a digital dashboard that enables
																			talent acquisition teams to collaborate with one another and monitor the progress
																			of each recruit as they progress through the employee onboarding stage.
																			Implementing this onboarding system would assist managers and leadership in
																			addressing the needs and concerns of their new employees while minimizing the
																			administrative burden on HR and managers. It also standardizes the procedure,
																			ensuring that the new employee introductions are consistent and suitable for the
																			position. Finally, it aids enforcement by ensuring that sensitive new hire
																			information is not lost or misfiled.</span></p>
                                                                </div>
                                                                <div class="col-sm-5 pr-sm-0 mb-sm-0 mb-3 offset-sm-1">
                                                                    <img src="../../images/onboardingPcture/IMG_2137.JPG" class="img-fluid border_top_img orange_text img300">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--MENTORSHIP-->
                                                    <!--FACILITIES-->
                                                    <div class="row m-0 mb-5">
                                                        <div class="col-12 border_bottom_thick pl-0 pr-0 pt-3 pb-4">
                                                            <div class="row m-0 ">
                                                                <div class="col-sm-5 pl-sm-0 mb-sm-0 mb-3">
                                                                    <img src="../../images/onboardingPcture/IMG_2082.JPG" class="img-fluid border_top_img blue_text">
                                                                </div>
                                                                <div class="col-sm-6 pr-sm-0 offset-sm-1">
                                                                    <h2 class="mb-3">What Are Onboarding Activities?</h2>
                                                                    <div class="underline_h2 blue_text mb-3">
                                                                    </div>
                                                                    <h4>Onboarding consists of multiple individual processes; however, it has no official definition and opinions still vary as to which processes fall under the umbrella of onboarding.
                                                                    </h4>
                                                                    <p><span style="font-weight: 400;">
																			<ul style="list-style:none">
																				<li>Job offers</li>
																				<li> Salary negotiation</li>

																				<li> New hire paperwork</li>

																				<li> Policy and culture training</li>

																				<li>Job training</li>

																				<li>Job training</li>

																				<li> Team introductions</li</ul> </span> </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--FACILITIES-->
                                                    <!--OPPORTUNITIES-->
                                                    <div class="row m-0 mb-5">
                                                        <div class="col-12 border_bottom_thick pl-0 pr-0 pt-3 pb-4">
                                                            <div class="row m-0 ">
                                                                <div class="col-sm-6 pl-sm-0 text-right">
                                                                    <h2 class="mb-3">OPPORTUNITIES</h2>
                                                                    <div class="row m-0 justify-content-end">
                                                                        <div class="float-right underline_h2 orange_text mb-3">
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-weight: 400;">The proximity of like-minded
																											entrepreneurs and other businesses exploring digital innovation,
																											along with Precinct events, business development programmes and
																											bootcamps create opportunities to share ideas, develop knowledge
																											and learn from others who have navigated the entrepreneurial
																											journey before. &nbsp;The Precinct’s direct connections within the
																											digital industry, funders, VCs and investors open the way forward
																											for businesses to get assistance with scaling up their activities
																											when the time is right.</span></p>
                                                                </div>
                                                                <div class="col-sm-5 pr-sm-0 mb-sm-0 mb-3 offset-sm-1">
                                                                    <img src="../../images/onboardingPcture/IMG_2099.JPG" class="img-fluid border_top_img orange_text">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--OPPORTUNITIES-->


                                                    <div class="row m-0 mb-5">
                                                        <div class="col-12 border_bottom_thick pl-0 pr-0 pt-3 pb-4">
                                                            <div class="row m-0 ">
                                                                <div class="col-sm-6 pl-sm-0 text-right">
                                                                    <h2 class="mb-3">Onboarding Process for a New recruites?</h2>
                                                                    <div class="row m-0 justify-content-end">
                                                                        <div class="float-right underline_h2 orange_text mb-3">
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-weight: 400;">
																											<ul style="list-style:none">
																												<li>Setting expectations

																												</li>
																												<li> Building relationships with other employees

																												</li>
																												<li>Creating confidence and trust

																												</li>
																												<li>Creating a clear definition of roles and boundaries</li>
																											</ul>
																										</span></p>
                                                                </div>
                                                                <div class="col-sm-5 pr-sm-0 mb-sm-0 mb-3 offset-sm-1">
                                                                    <img src="../../images/onboardingPcture/IMG_2127.JPG" class="img-fluid border_top_img orange_text">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row m-0 mb-5">
                                                        <div class="col-12 border_bottom_thick pl-0 pr-0 pt-3 pb-4">
                                                            <div class="row m-0 ">
                                                                <div class="col-sm-6 pl-sm-0 text-right">
                                                                    <h2 class="mb-3">How Long Does Onboarding Take?</h2>
                                                                    <div class="row m-0 justify-content-end">
                                                                        <div class="float-right underline_h2 orange_text mb-3">
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-weight: 400;">There is no strict rule about how
																											long onboarding a new recruites should take. However, it’s
																											important to be thorough in this process if you want to maximize
																											employee engagement and minimize employee turnover. Many companies
																											have an onboarding process that lasts only a month or a few weeks,
																											which risks new recruits feeling overwhelmed with their new
																											responsibilities and not connecting with the rest of the
																											company.</span></p>
                                                                </div>
                                                                <div class="col-sm-5 pr-sm-0 mb-sm-0 mb-3 offset-sm-1">
                                                                    <img src="../../images/onboardingPcture/IMG_2150.JPG" class="img-fluid border_top_img orange_text">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>


                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <!--Complete task-->
                                                <div class="card check" style="display:block">
                                                    <input type="button" class="btn btn-primary btn-block btnComplete" value="Click to Complete" />
                                                    <i class="btn btn-success bi-check-circle-fill" style="cursor: none; display: none"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ct-chart ct-perfect-fourth " id="ct-chart-line "></div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- content-wrapper ends -->
                <!-- partial:../../partials/_footer.html -->
                <footer class="footer ">
                    <div class="d-sm-flex justify-content-center justify-content-sm-between ">
                        <span class="text-muted d-block text-center text-sm-left d-sm-inline-block ">Copyright ©
											Tshimologong.joburg 2021</span>

                    </div>
                </footer>
                <!-- partial -->
                <!-- Modal -->
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#LoginModal2" id="btnLoginFail" style="display: none;">
									Failed Login
								</button>

                <div class="modal fade" id="LoginModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">
                                    Login Attempt Fail
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="loginFailCloseIcon"></button>
                            </div>
                            <div class="modal-body text-danger">
                                <h2>Login Required to access this page!</h2>
                            </div>
                            <div class="modal-body text-danger" id="closeTimer"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="loginFailClose">
													Close
												</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- main-panel ends -->
        </div>
        <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../vendors/js/vendor.bundle.base.js "></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="../../js/off-canvas.js "></script>
    <script src="../../js/misc.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
    </script>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>
        // button complete and title header
        let btnComplete = document.querySelector(".btnComplete");
        let taskHeader = document.getElementById("title");
        let details;
$('#signOut').click(function(){
            sessionStorage.clear();

                window.location.href = "../../../index.html";

            });
        $("#loginFailClose,#loginFailCloseIcon").click(function() {
            window.location.href = "../../../index.html";
        });

        window.addEventListener("load", () => {
            details = JSON.parse(sessionStorage.getItem("details"));
            if (!details) {
                document
                    .querySelector('#btnLoginFail')
                    .dispatchEvent(new Event('click'));

                let closeDisplayMessage = document.getElementById('closeTimer');
                let count = 6;
                var interval = window.setInterval(function() {
                    closeDisplayMessage.innerHTML =
                        '<h2>Redirecting to login page in :' + count + '</h2>';
                    count--;
                    if (count === 0) {
                        clearInterval(interval);
                        document
                            .getElementById('loginFailClose')
                            .dispatchEvent(new Event('click'));
                    }
                }, 1000);
            } else {
                details = details[0];

                let userFullanme = document.querySelectorAll('.recruitFullname');
                userFullanme.forEach((usfn) => {
                    usfn.innerHTML = details.firstname + " " + details
                        .lastname;
                })

                let email = document.querySelectorAll('.recruitEmail');
                email.forEach((mail) => {
                    mail.innerHTML = details.userEmail;
                })


                $.ajax({
                    url: 'https://localhost:44318/api/User/ImageUrl',
                    method: 'POST',
                    data: {
                        id: details.userID,
                    },
                    success: function(dataResponse) {
                   let imgProfiles = document.querySelectorAll('.recruitImg');
                                if (dataResponse) {
                                    for (img of imgProfiles) {
                                        img.src = 'https://localhost:44318/' + dataResponse;
                                    }
                                }
                                else{

                                 for (img of imgProfiles) {
                                     img.src = "../../images/default.png";
                                    }
                                }
                    },
                    error: function() {
                                      alert('Server/network error, request not complete');

                    },
                    complete: function() {},
                });

                btnComplete.setAttribute("id", details.userID);
                console.log(details);
                $.ajax({
                    url: "https://localhost:44318/api/User/GetCompleteTasks",
                    method: "POST",
                    data: {
                        id: details.userID,
                    },
                    success: function(responseData) {
                        responseData = JSON.parse(responseData);
                        if (responseData.length) {
                            let TaskCompleted = [];
                            responseData.forEach((response) =>
                                TaskCompleted.push(response.TaskCompleted)
                            );
                            TaskCompleted.forEach((task) => {
                                if (taskHeader.firstChild.nodeValue === task) {
                                    btnComplete.setAttribute("value", "Task Completed");
                                    btnComplete.setAttribute("disabled", "disabled");
                                    btnComplete.classList = "btn btn-success";
                                    btnComplete.parentElement.classList.add("bg-success");
                                    btnComplete.nextElementSibling.style.display = "";
                                }

                            });
                            console.log(TaskCompleted);
                        }
                    },
                    error: function() {
                        alert("Server error retrieving completed task");
                    },
                });
            }

        });

        // Complete  Requests
        btnComplete.addEventListener("click", function() {
            let userId = btnComplete.getAttribute("id");
            $.ajax({
                url: "https://localhost:44318/api/User/MarkAsDone",
                method: "POST",
                data: {
                    UserId: userId,
                    Task: taskHeader.firstChild.nodeValue,
                },
                success: function(responseData) {
                    // modal for confirming completion.
                    location.reload();
                },
                error: function() {
                    alert("Server error");
                },
            });
        });
    </script>
    <!-- endinject -->


</body>

</html>